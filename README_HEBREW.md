# מערכת ניתוח פיננסי CrewAI
# Financial Analysis CrewAI System

## 📊 סקירת הפרויקט

פרויקט זה מיישם מערכת ניתוח פיננסי מקיפה באמצעות מסגרת CrewAI עם ארבעה סוכני AI מתמחים. המערכת מבצעת חישובים פיננסיים מפורטים, יוצרת ויזואליזציות ומספקת יכולות תחזית מבוססות על נתונים פיננסיים מקובץ CSV.

## 🎯 תכונות

### 🤖 סוכני AI
- **מנתח מתמטי פיננסי**: מטפל בחישובים מורכבים ופילוח הכנסות רבעוני
- **מנתח ויזואליזציה ו-NPV**: יוצר גרפים ומחשב ערך נוכחי נקי
- **מומחה תחזית פיננסית**: מבצע תחזית רווח לחמש שנים עם ניתוח מגמות
- **מומחה אימות פיננסי**: בודק תקינות תוצאות ומספק המלצות

### 📈 יכולות ניתוח
- **חישובי רווח נקי לאחר מס**
- **פילוח הכנסות רבעוני**
- **ניתוח NPV (שיעור היוון 6%)**
- **תחזית פיננסית לחמש שנים**
- **ניתוח מבנה עלויות**
- **חישובי קצב צמיחה**
- **ניתוח סטטיסטי**
- **ויזואליזציות מקצועיות**

## 🚀 התחלה מהירה

### דרישות מקדימות
```bash
pip install -r requirements.txt
```

### שימוש בסיסי
```bash
# הרצת הניתוח הפיננסי הראשי
python financial_analysis_crew.py

# הצגת תוצאות מפורטות
python detailed_results.py

# יצירת ויזואליזציות
python create_visualizations.py
```

## 📁 מבנה הפרויקט

```
CREWAI/
├── financial_analysis_crew.py    # מערכת CrewAI הראשית
├── detailed_results.py           # הצגת תוצאות מפורטות
├── create_visualizations.py      # יצירת ויזואליזציות
├── financial_report.md          # דוח מקיף
├── agent_test.csv              # נתוני פיננסיים לדוגמה
├── requirements.txt             # תלויות Python
└── README.md                   # קובץ זה
```

## 📊 תוצאות לדוגמה

### מדדים מרכזיים
- **סך הכנסות**: $2,655,527.00
- **סך רווח נקי**: $1,625,475.17
- **NPV (שיעור היוון 6%)**: $1,469,104.35
- **שולי רווח ממוצעים**: 58.79%

### ניתוח רבעוני
| רבעון | הכנסות | רווח נקי | NPV |
|--------|---------|-----------|-----|
| Q1-2026 | $977,783 | $658,924 | $612,636 |
| Q2-2027 | $977,783 | $542,670 | $469,106 |
| Q4-2025 | $274,555 | $184,245 | $173,816 |

## 🔧 הגדרות

### משתני סביבה
המערכת משתמשת במשתני סביבה להגדרת API:
- `OPENAI_API_KEY`: מפתח API של OpenAI שלך
- `OPENAI_MODEL_NAME`: שם המודל (ברירת מחדל: gpt-3.5-turbo - אפשרות חסכונית)

### פורמט נתונים
המערכת מצפה לקבצי CSV עם העמודות הבאות:
- `monthes`: תאריך בפורמט "Jan-25"
- `revenue`: סכום הכנסות
- `opex`: הוצאות תפעול
- `tax`: סכום מס
- `fianance cost`: עלויות מימון
- `sg@a`: הוצאות SG&A

## 📈 תכונות ניתוח

### 1. חישובים פיננסיים
- חישוב רווח נקי לאחר מס
- ניתוח שולי רווח
- חישובי NPV עם שיעור היוון 6%
- אגרגציה רבעונית

### 2. ויזואליזציה
- גרפים של הכנסות מול רווח נקי
- ויזואליזציות פילוח רבעוני
- גרפי ניתוח NPV
- תרשימי עוגה של מבנה עלויות
- ניתוח קצב צמיחה

### 3. תחזית
- תחזיות הכנסות לחמש שנים
- תרחישים שמרניים, מתונים ואופטימיים
- תחזית מבוססת מגמות
- ניתוח דפוסים עונתיים

### 4. ניתוח סטטיסטי
- סטטיסטיקה תיאורית
- חישובי קצב צמיחה
- מדדי ביצוע
- ניתוח מבנה עלויות

## 🛠️ פרטים טכניים

### תלויות
- **CrewAI**: מסגרת ארגון סוכני AI
- **Pandas**: עיבוד וניתוח נתונים
- **NumPy**: חישובים מספריים
- **Matplotlib**: ויזואליזציה
- **Seaborn**: ויזואליזציה סטטיסטית
- **Python-dotenv**: ניהול משתני סביבה

### ארכיטקטורה
המערכת עוקבת אחר ארכיטקטורה מודולרית:
1. **טעינת נתונים**: עיבוד ואימות CSV
2. **הגדרת סוכנים**: ארבעה סוכני AI מתמחים
3. **ביצוע משימות**: עיבוד משימות במקביל
4. **ניתוח**: חישובים פיננסיים מקיפים
5. **ויזואליזציה**: יצירת גרפים מקצועיים
6. **דיווח**: דוחות markdown מפורטים

## 📋 דוגמאות שימוש

### ניתוח בסיסי
```python
from financial_analysis_crew import FinancialAnalysisCrew

# טעינת נתונים
crew = FinancialAnalysisCrew()
financial_data = crew.load_financial_data('agent_test.csv')

# הרצת ניתוח
results = crew.run_analysis(financial_data)
```

### תוצאות מפורטות
```python
from detailed_results import load_and_analyze_data, display_detailed_results

# טעינה וניתוח
df = load_and_analyze_data('agent_test.csv')
display_detailed_results(df)
```

## 🎨 תכונות ויזואליזציה

המערכת יוצרת גרפים פיננסיים מקצועיים:
- **הכנסות מול רווח נקי לאורך זמן**
- **ניתוח מגמת שולי רווח**
- **פילוח הכנסות רבעוני**
- **גרפי ניתוח NPV**
- **מפת חום הכנסות חודשיות**
- **תרשים עוגה מבנה עלויות**
- **ניתוח קצב צמיחה**

## 📊 תוצאות לדוגמה

### ביצועים בולטים
- **חודש הכנסות גבוהות**: מרץ 2026 ($800,003)
- **חודש רווח גבוה**: מרץ 2026 ($539,642)
- **קצב צמיחה**: 163.33% צמיחה כוללת
- **שמירת NPV**: 90.4% מהרווחים

### תרחישי תחזית
- **שמרני**: $32,679 הכנסות, $16,907 רווח
- **מתון**: $46,347 הכנסות, $22,402 רווח
- **אופטימי**: $65,339 הכנסות, $29,566 רווח

## 🔍 בקרת איכות

### אימות נתונים
- אימות פורמט CSV
- טיפול בנתונים חסרים
- זיהוי חריגים
- בדיקות עקביות נתונים

### אימות חישובים
- אימות דיוק מתמטי
- אימות צולב עם סטנדרטים בתעשייה
- בדיקת מובהקות סטטיסטית
- טיפול בשגיאות ורישום

## 📝 דוחות שנוצרים

1. **דוח פיננסי מקיף** (`financial_report.md`)
   - סיכום מנהלים
   - מדדים מרכזיים
   - ניתוח רבעוני
   - תובנות אסטרטגיות
   - תיעוד מתודולוגיה

2. **פלט תוצאות מפורט**
   - פילוח חודשי
   - סיכומים סטטיסטיים
   - ביצועים בולטים
   - ניתוח תחזית

## 🤝 תרומה לפרויקט

1. Fork את ה-repository
2. צור ענף תכונה
3. בצע את השינויים שלך
4. הוסף בדיקות אם רלוונטי
5. שלח pull request

## 📄 רישיון

פרויקט זה מורשה תחת רישיון MIT - ראה קובץ LICENSE לפרטים.

## 🙏 הודעות תודה

- מסגרת CrewAI לארגון סוכני AI
- OpenAI ליכולות מודל שפה
- קהילת הניתוח הפיננסי לפרקטיקות מומלצות

## 📞 תמיכה

לשאלות או בעיות:
1. בדוק את התיעוד
2. סקור בעיות קיימות
3. צור בעיה חדשה עם מידע מפורט

---

**הערה**: מערכת זו מיועדת למטרות חינוכיות וניתוחיות. תמיד אימות חישובים פיננסיים באופן עצמאי להחלטות עסקיות קריטיות. 